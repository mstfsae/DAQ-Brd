choice SPI_HOST
    prompt "SPI peripheral that controls this bus"
    default SPI2_HOST
    help
        Select SPI peripheral that controls this bus.
    config SPI2_HOST
        bool "SPI2_HOST"
        help
            Use SPI2_HOST. This is also called HSPI_HOST.w
    config SPI3_HOST
        bool "SPI3_HOST"
        help
            USE SPI3_HOST. This is also called VSPI_HOST
endchoice


menu "ADS8668 Channel Configuration"

    config ADC_NUM_CHANNELS
        int "Number of channels to configure"
        range 1 8
        default 8
    
    menu "Channel Input Ranges"
        depends on ADC_NUM_CHANNELS > 0
    
    # Template for each channel's configuration
    macro channel_config(num)
        choice
            prompt "Channel $(num) Range"
            default CH$(num)_RANGE_2P5VREF
            help
                Input range for Channel $(num)
    
            config CH$(num)_RANGE_2P5VREF
                bool "±2.5 × VREF (0000)"
            config CH$(num)_RANGE_1P25VREF
                bool "±1.25 × VREF (0001)"
            config CH$(num)_RANGE_0P625VREF
                bool "±0.625 × VREF (0010)"
            config CH$(num)_RANGE_0P3125VREF
                bool "±0.3125 × VREF (0011)"
            config CH$(num)_RANGE_0P15625VREF
                bool "±0.15625 × VREF (1011)"
            config CH$(num)_RANGE_0TO2P5VREF
                bool "0 to 2.5 × VREF (0101)"
            config CH$(num)_RANGE_0TO1P25VREF
                bool "0 to 1.25 × VREF (0110)"
            config CH$(num)_RANGE_0TO0P625VREF
                bool "0 to 0.625 × VREF (0111)"
            config CH$(num)_RANGE_0TO0P3125VREF
                bool "0 to 0.3125 × VREF (1111)"
        endchoice
    
        config CH$(num)_RANGE_VAL
            hex
            default 0x0 if CH$(num)_RANGE_2P5VREF
            default 0x1 if CH$(num)_RANGE_1P25VREF
            default 0x2 if CH$(num)_RANGE_0P625VREF
            default 0x3 if CH$(num)_RANGE_0P3125VREF
            default 0xB if CH$(num)_RANGE_0P15625VREF
            default 0x5 if CH$(num)_RANGE_0TO2P5VREF
            default 0x6 if CH$(num)_RANGE_0TO1P25VREF
            default 0x7 if CH$(num)_RANGE_0TO0P625VREF
            default 0xF if CH$(num)_RANGE_0TO0P3125VREF
    endmacro
    
    # Instantiate for all channels
    $(channel_config,0)
    $(channel_config,1)
    $(channel_config,2)
    $(channel_config,3)
    $(channel_config,4)
    $(channel_config,5)
    $(channel_config,6)
    $(channel_config,7)
    
    endmenu
    endmenu